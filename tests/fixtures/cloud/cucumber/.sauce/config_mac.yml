apiVersion: v1alpha
kind: playwright-cucumberjs
sauce:
  region: us-west-1
  concurrency: 10
  metadata:
    tags:
      - e2e
    build: "$BUILD_ID"
defaults:
  timeout: 5m
playwright:
  version: 1.29.2
rootDir: ./
suites:
  - name: Cucumber - macOS12 - Chromium
    browserName: "chromium"
    platformName: "macOS 12"
    options:
      paths:
        - "features/**/*.feature"
      require:
        - "features/support/*.js"
      format:
        - "json:my-cucumber.json"

notifications:
  slack:
    channels: ["devx-slack-notifications"]
    send: fail

npm:
  dependencies:
    - "@cucumber/cucumber"
    - "@saucelabs/cucumber-reporter"
    - "ts-node"
    - "typescript"
    - "pretty-seconds"
