apiVersion: v1alpha
kind: playwright
sauce:
  region: us-west-1
  concurrency: 3
  metadata:
    tags:
      - e2e
    build: "$BUILD_ID"
docker:
  fileTransfer: mount
  image: "saucelabs/stt-playwright-node:local"
rootDir: .
playwright:
  version: 1.15.2
suites:
  - name: "saucy test - webkit"
    mode: docker
    platformName: "Windows 10"
    testMatch:
      - '.*.js'
    env:
      hello: world
    params:
      browserName: "webkit"
      headed: true

  - name: "saucy test - firefox"
    mode: docker
    platformName: "Windows 10"
    testMatch:
      - '.*.js'
    env:
      hello: world
    params:
      browserName: "firefox"
      headed: true

  - name: "saucy test - chromium"
    mode: docker
    platformName: "Windows 10"
    testMatch:
      - '.*.js'
    env:
      hello: world
    params:
      browserName: "chromium"
      headed: true
